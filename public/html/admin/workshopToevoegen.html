<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Workshop Keuze</title>
    <link rel="stylesheet" href="/css/workshopAdmin/workshop/AddWorkshop.css">
    <link rel="stylesheet" href="/css/workshopAdmin/workshop/DetailWorkshop.css">
    <link rel="stylesheet" href="/css/workshopAdmin/workshop/OverView.css">
    <link rel="stylesheet" href="/css/workshopAdmin/workshop/reviewResponce.css">



    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
<div id="global-modal-root">
    <div id="customAlert" class="custom-modal">
        <div class="custom-modal-content">
            <p id="customAlertMessage"></p>
            <button id="customAlertOk">OK</button>
        </div>
    </div>

    <div id="customConfirm" class="custom-modal">
        <div class="custom-modal-content">
            <p id="customConfirmMessage"></p>
            <div class="confirm-buttons">
                <button id="customConfirmYes">Ja</button>
                <button id="customConfirmNo">Nee</button>
            </div>
        </div>
    </div>
    <div id="errorContainer" class="error-container" style="display:none;">
        <span id="errorMessage"></span>
        <button id="closeErrorBtn">&times;</button>
    </div>
    <div id="loadingPopup" class="custom-modal" style="display:none;">
        <div class="custom-modal-content" style="background: transparent; box-shadow: none;">
            <div class="loading-container">
                <div class="loading-animation">
                    <img src="/image/Robotnik.png" alt="Laden..." class="loading-image">
                </div>
                <p id="loadingMessage" style="color: white; margin-top: 20px; font-weight: bold;">
                    Workshop opslaan...
                </p>
                <!-- Progress bar toegevoegd -->
                <div style="width: 100%; background: rgba(255,255,255,0.2); border-radius: 5px; margin-top: 10px;">
                    <div id="uploadProgress" style="width: 0%; height: 10px; background: #4caf50; border-radius: 5px;"></div>
                </div>
            </div>
        </div>
    </div>

</div>

<header>
    <div class="logo"><img src="../../image/logo.png" alt="Logo"></div>
    <div class="search-container">
        <span class="icon" id="searchIcon">üîç</span>
        <input type="text" id="searchInput" placeholder="Zoek workshops...">
    </div>
</header>


<main>
    <button class="workshop-button" id="addWorkshopBtn">Workshop toevoegen</button>
    <div class="workshop-grid" id="workshopGrid"></div>

    <p id="no-results">
        Kan uw zoekopdracht niet vinden
    </p>


</main>

<!-- Workshop toevoegen popup -->
<div class="popup" id="workshopPopup">
    <div class="popup-content workshop-form">
        <!-- Popup foutmelding container -->
        <div id="popupErrorContainer" class="error-container" style="display:none;">
            <span id="popupErrorMessage"></span>
            <button id="closePopupErrorBtn">&times;</button>
        </div>
        <span class="close" id="closePopupBtn">&times;</span>
        <div class="popup-header"><img src="../../image/logo.png" class="popup-logo"></div>

        <div class="popup-body">
            <div class="popup-left">
                <div class="media-upload">
                    <div id="workshopPreview" class="preview-container"></div> <!-- previews bovenaan -->

                    <div class="upload-buttons">
                        <input type="file" id="workshopImages" accept="image/*, video/*" multiple>
                    </div>
                </div>


                <!-- Nieuwe dropdown structuur met juiste id's -->
                    <div class="file-category" data-category="instructions">
                    <div class="file-category-header">Instructies <i class="fa fa-chevron-down"></i></div>
                    <div class="file-category-content">
                        <div class="file-upload">
                            <input type="file" multiple class="file-input" data-type="instructions" id="instructionsInput" data-preview-id="instructionsList">
                        </div>
                        <ul class="category-file-list" id="instructionsList"></ul>
                    </div>
                </div>

                <div class="file-category" data-category="manuals">
                    <div class="file-category-header">Handleiding <i class="fa fa-chevron-down"></i></div>
                    <div class="file-category-content">
                        <div class="file-upload">
                            <input type="file" multiple class="file-input" data-type="manuals" id="manualsInput" data-preview-id="manualsList">
                        </div>
                        <ul class="category-file-list" id="manualsList"></ul>
                    </div>
                </div>

                <div class="file-category" data-category="demo">
                    <div class="file-category-header">Demo code <i class="fa fa-chevron-down"></i></div>
                    <div class="file-category-content">
                        <div class="file-upload">
                            <input type="file" multiple class="file-input" data-type="demo" id="demoInput" data-preview-id="demoList">
                        </div>
                        <ul class="category-file-list" id="demoList"></ul>
                    </div>
                </div>

                <div class="file-category" data-category="worksheets">
                    <div class="file-category-header">Werkbladeren <i class="fa fa-chevron-down"></i></div>
                    <div class="file-category-content">
                        <div class="file-upload">
                            <input type="file" multiple class="file-input" data-type="worksheets" id="worksheetsInput" data-preview-id="worksheetsList">
                        </div>
                        <ul class="category-file-list" id="worksheetsList"></ul>
                    </div>
                </div>
            </div>

            <div class="popup-right">
                <label>Naam</label><input type="text" id="workshopName">
                <label>Omschrijving</label><textarea id="workshopDesc" rows="9" cols="40"></textarea>
                <label>Duur</label><input type="time" id="workshopDuration" step="60">

                <label>Labels</label>
                <div style="display:flex;gap:5px">
                    <input type="text" id="workshopLabelInput" placeholder="Label naam" list="labelSuggestions">
                    <datalist id="labelSuggestions">
                        <option value="AI">
                        <option value="Computer Vision">
                        <option value="Workshop">
                        <option value="Techniek">
                        <option value="Robotica">
                        <option value="Privacy">
                        <option value="Beginnner">
                        <option value="Gemiddeld">
                        <option value="Bevorderd">
                        <option value="Kinderen">
                        <option value="Jongeren">
                        <option value="Teams">
                        <option value="Design">
                        <option value="Webdevelopment">
                        <option value="Data">
                        <option value="Praktijk">
                        <option value="Theorie">
                        <option value="SDG 1 - Geen armoede">
                        <option value="SDG 2 - Geen honger">
                        <option value="SDG 3 - Goede gezondheid en welzijn">
                        <option value="SDG 4 - Kwaliteitsonderwijs">
                        <option value="SDG 5 - Gendergelijkheid">
                        <option value="SDG 6 - Schoon water en sanitair">
                        <option value="SDG 7 - Betaalbare en duurzame energie">
                        <option value="SDG 8 - Waardig werk en economische groei">
                        <option value="SDG 9 - Industrie, innovatie en infrastructuur">
                        <option value="SDG 10 - Ongelijkheid verminderen">
                        <option value="SDG 11 - Duurzame steden en gemeenschappen">
                        <option value="SDG 12 - Verantwoorde consumptie en productie">
                        <option value="SDG 13 - Klimaatactie">
                        <option value="SDG 14 - Leven in het water">
                        <option value="SDG 15 - Leven op het land">
                        <option value="SDG 16 - Vrede, justitie en sterke publieke diensten">
                        <option value="SDG 17 - Partnerschap om de doelstellingen te bereiken">





                    </datalist>
                    <input type="color" id="workshopLabelColor" value="#5481B7">
                    <button id="addLabelBtn">‚ûï</button>
                </div>
                <div id="labelPreview"></div>


                <label style="margin-top:10px; display:flex; align-items:center; gap:8px;">
                    <input type="checkbox" id="parentalConsent">
                    <span>Oudertoestemming verleend (onder 16 jaar)</span>
                </label>
                <div style="margin-top: 15px; border-top: 1px solid #eee; padding-top: 15px;">
                    <label>Interactie</label>
                    <button type="button" id="btnOpenQuizCreator" class="workshop-button">
                        + Quiz Toevoegen
                    </button>
                    <span id="quizStatusText" style="font-size: 12px; color: green; display: none; margin-top: 5px;">
        ‚úì Quiz met <span id="quizQCount">0</span> vragen opgeslagen
    </span>
                </div>
                <div class="popup-buttons">
                    <button class="btn-secondary" id="closePopupBtnCancel">Annuleren</button>
                    <button class="btn-primary" id="saveWorkshopBtn">Opslaan</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Detail popup -->
<div class="popup" id="workshopDetailsPopup">
    <div class="popup-content workshop-form">
        <span class="close" id="closeDetailsPopupBtn">&times;</span>
        <div class="popup-header"><img src="../../image/logo.png" class="popup-logo"></div>

        <div class="popup-body">
            <div class="popup-left">
                <div class="media-upload">
                    <div id="detailMediaContainer"></div>
                    <button id="prevDetailMedia" style="display:none;">‚óÄ</button>
                    <button id="nextDetailMedia" style="display:none;">‚ñ∂</button>
                </div>
                <!-- Bestanden per categorie (zelfde structuur als create popup) -->
                <div id="detailFilesContainer">
                    <div class="file-category" data-category="instructions">
                        <div class="file-category-header">Instructies <i class="fa fa-chevron-down"></i></div>
                        <div class="file-category-content">
                            <ul class="category-file-list" id="detail_instructionsList"></ul>
                        </div>
                    </div>

                    <div class="file-category" data-category="manuals">
                        <div class="file-category-header">Handleiding <i class="fa fa-chevron-down"></i></div>
                        <div class="file-category-content">
                            <ul class="category-file-list" id="detail_manualsList"></ul>
                        </div>
                    </div>

                    <div class="file-category" data-category="demo">
                        <div class="file-category-header">Demo code <i class="fa fa-chevron-down"></i></div>
                        <div class="file-category-content">
                            <ul class="category-file-list" id="detail_demoList"></ul>
                        </div>
                    </div>

                    <div class="file-category" data-category="worksheets">
                        <div class="file-category-header">Werkbladeren <i class="fa fa-chevron-down"></i></div>
                        <div class="file-category-content">
                            <ul class="category-file-list" id="detail_worksheetsList"></ul>
                        </div>
                    </div>
                </div>

            </div>
            <div class="popup-right">
                <label>Naam</label><input type="text" id="detailName" readonly>
                <label>Omschrijving</label><textarea id="detailDesc" rows="9" cols="40" readonly></textarea>
                <label>Duur</label><input type="time" id="detailDuration" readonly>
                <label>Labels</label><div id="detailLabelPreview"></div>

                <!-- ‚úÖ Voeg een container toe -->
                <div class="consent-and-reviews">
                    <label for="detailParentalConsent">
                        <input type="checkbox" id="detailParentalConsent">
                        Oudertoestemming
                    </label>

                    <div id="detailReviewBox"></div>
                </div>
                <button id="btnStartQuiz" class="quiz-start-btn"    style="

                margin-top:15px;
                padding:10px 16px;
                background:#5481B7;
                color:white;
                border:none;
                border-radius:6px;
                cursor:pointer;
                font-size:16px;
                ">
                    Quiz bekijken / bewerken
                </button>
                <input type="hidden" id="hiddenQuizField" name="quiz">




                <div class="popup-buttons">
                    <button class="btn-primary" id="updateWorkshopBtn">Opslaan</button>
                    <button class="btn-secondary" id="deleteWorkshopBtn">Verwijderen</button>
                </div>
            </div>



            </div>
        </div>
        <!-- Lightbox voor mediaweergave -->
        <div id="mediaLightbox" class="lightbox">
            <span class="close-lightbox">&times;</span>
            <img id="lightboxImage" src="" alt="Vergrote weergave">
            <video id="lightboxVideo" controls></video>
        </div>

    </div>


<div id="reviewsPopup" class="reviews-popup">
    <div class="reviews-content">
        <span id="closeReviewsPopup" class="close-reviews">&times;</span>
        <h2>Reviews</h2>
        <ul id="reviewsList"></ul>
    </div>
</div>

<button id="backToDashboardBtn" class="dashboard-button">‚¨Ö Terug naar Dashboard</button>



<div id="respondPopup" class="respond-popup" style="display:none;">
    <div class="respond-popup-content">
        <h3>Vraag om toelichting</h3>
        <p>U staat op het punt een e-mail te sturen naar de reviewer om meer uitleg te vragen over de beoordeling.</p>

        <form id="respondForm">
            <input type="hidden" id="reviewUserEmail" name="userEmail">
            <input type="hidden" id="reviewId" name="reviewId">

            <label for="reviewWorkshopTitle" class="input-label">Titel workshop:</label>
            <input type="text" id="reviewWorkshopTitle" name="workshopTitle" readonly>

            <label for="adminResponse" class="input-label">Bericht aan de gebruiker:</label>
            <textarea id="adminResponse" name="adminResponse" rows="6">
Beste gebruiker,

Bedankt voor uw review! We waarderen uw feedback enorm.
Zou u ons misschien wat meer details kunnen geven over uw ervaring, zodat we onze service verder kunnen verbeteren? Alle toelichting is welkom.

Met vriendelijke groet,
Het team
            </textarea>

            <div class="popup-buttons" style="margin-top: 20px;">
                <button type="submit" class="btn-primary">Verstuur reactie</button>
                <button type="button" class="btn-secondary" onclick="document.getElementById('respondPopup').style.display='none';">Annuleren</button>
            </div>
        </form>
    </div>
</div>


<div id="modal-quiz-creator" class="quiz-overlay" style="display:none;">
    <div class="quiz-modal">
        <div class="quiz-header">
            <h3>Quiz Aanmaken</h3>
            <span class="close-quiz" onclick="closeQuizModals()">&times;</span>
        </div>
        <div class="quiz-body">
            <div id="creator-questions-container"></div>
            <button class="add-q-btn" onclick="addQuestionBlock()">+ Vraag toevoegen</button>
        </div>
        <div class="quiz-footer">
            <button class="btn-secondary" onclick="closeQuizModals()">Annuleren</button>
            <button class="btn-primary" onclick="saveQuizToForm()">Opslaan bij Workshop</button>
        </div>
    </div>
</div>






<script src="/js/admin/workshop-management.js"></script>
<script src="/js/admin/workshop-viewer.js"></script>
<script src="/js/admin/quiz.js"></script>




</body>
</html>
